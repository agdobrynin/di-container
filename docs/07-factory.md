# üè≠ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–∞–±—Ä–∏—á–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

–í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø—Ä–∏–º–µ–Ω–∏—Ç—å —à–∞–±–ª–æ–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è ¬´—Ñ–∞–±—Ä–∏–∫–∞¬ª
—á—Ç–æ–±—ã –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–º—É –æ–±—ä–µ–∫—Ç—É ‚Äì ¬´—Ñ–∞–±—Ä–∏–∫–∞¬ª. 
–í —Ç–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –º–µ—Ç–æ–¥ –≤–∞—à–µ–π —Ñ–∞–±—Ä–∏–∫–∏ –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.

> [!TIP]
> –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –∏ –º–µ—Ç–æ–¥–∞ —Ñ–∞–±—Ä–∏–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–ª–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
> –î–ª—è –æ—Å–æ–±—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∞–±—Ä–∏–∫–∏ –º–æ–∂–Ω–æ [—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
> –∞—Ä–≥—É–º–µ–Ω—Ç—ã –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–µ—Ç–æ–¥–∞-—Ñ–∞–±—Ä–∏–∫–∏](#–∞—Ä–≥—É–º–µ–Ω—Ç—ã-–¥–ª—è-–º–µ—Ç–æ–¥–∞-—Ñ–∞–±—Ä–∏–∫–∏).

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Ñ–∞–±—Ä–∏–∫–∏ –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
–≤—ã–±—Ä–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –∫–ª–∞—Å—Å–∞ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–∏–π —Å–µ—Ä–≤–∏—Å.
–§–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∏–º—è –∫–ª–∞—Å—Å–∞ –∑–∞–≤–∏—Å–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç –æ–±—ä–µ–∫—Ç–∞ (–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è), –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ —Ñ–∞–±—Ä–∏–∫–æ–π.
–û–¥–Ω–∞–∫–æ —Å–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏–º—è –∫–ª–∞—Å—Å–∞ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
–∫–ª–∞—Å—Å–∞ —Ñ–∞–±—Ä–∏–∫–∏, –ø–æ—ç—Ç–æ–º—É –µ–≥–æ —Å–ª–µ–¥—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞ —Ä–∞–∑—É–º–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–∞–±—Ä–∏–∫ –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–æ—Å—Ç—É–ø–Ω–æ –∫–∞–∫ –¥–ª—è php –∫–ª–∞—Å—Å–æ–≤,
—Ç–∞–∫ –∏ [–¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–µ—Ç–æ–¥–æ–≤ (—Ñ—É–Ω–∫—Ü–∏–π)](#—Ñ–∞–±—Ä–∏–∫–∏-–¥–ª—è-–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤-–º–µ—Ç–æ–¥–∞).

## –§–∞–±—Ä–∏–∫–∞ —Å–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º –º–µ—Ç–æ–¥–æ–º.
–î–ª—è —Ñ–∞–±—Ä–∏–∫–∏ –ø–µ—Ä–≤—ã–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º —É–∫–∞–∑—ã–≤–∞—é—Ç –∏–º—è –∫–ª–∞—Å—Å–∞,
–≤—Ç–æ—Ä—ã–º —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥–∞ –∫–ª–∞—Å—Å–∞.

```php
// –§–∞–±—Ä–∏–∫–∞
namespace App\Factories;

class ClassFactory
{
    public static function  create() 
    {
        return $createdObject;
    }
}
```
–ü—Ä–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–∏ —á–µ—Ä–µ–∑ —Ö—ç–ª–ø–µ—Ä —Ñ—É–Ω–∫—Ü–∏—é:
```php
// 
use App\Classes\Foo;
use App\Factories\ClassFactory;
use function Kaspi\DiContainer\diFactory;

return static function () {
    yield Foo::class => diFactory([ClassFactory::class, 'create']);
};
```
–ü—Ä–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–∏ —á–µ—Ä–µ–∑ php –∞—Ç—Ä–∏–±—É—Ç:
```php
namespace App\Classes;

use Kaspi\DiContainer\Attributes\DiFactory;
use App\Factories\ClassFactory;

#[DiFactory([ClassFactory::class, 'create'])]
class Foo{}
```
```php
use Kaspi\DiContainer\DiContainerBuilder;

$container = (new DiContainerBuilder())
    ->load(__DIR__.'/config/services.php')
    ->build()
;

$container->get(\App\Classes\Foo::class);
```
> [!NOTE]
> –ö–ª–∞—Å—Å `\App\Classes\Foo` –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω —á–µ—Ä–µ–∑ –≤—ã–∑–æ–≤ `\App\Factories\ClassFactory::create()`


## –§–∞–±—Ä–∏–∫–∞ —Å –Ω–µ—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º –º–µ—Ç–æ–¥–æ–º.
–ï—Å–ª–∏ –≤–∞—à–∞ —Ñ–∞–±—Ä–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–±—ã—á–Ω—ã–π –º–µ—Ç–æ–¥ –≤–º–µ—Å—Ç–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ,
–ø–µ—Ä–≤—ã–º —à–∞–≥–æ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ php –∫–ª–∞—Å—Å —Å–∞–º–æ–π —Ñ–∞–±—Ä–∏–∫–∏ —Ç–∞–∫–∂–µ –±—ã–ª —Å–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω
–∏ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –∫–∞–∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ, —Ç.–µ. –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª—É—á–µ–Ω —á–µ—Ä–µ–∑
–º–µ—Ç–æ–¥ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ `get(\App\Factories\ClassFactory::class)`.

```php
namespace App\Factories;

class ClassFactory
{
    public function __construct(private Bar $bar) {}

    public function create() 
    {
        $createdObject = $this->bar;
        // –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ
        $createdObject->internalVal = '...';
        
        return $createdObject;
    }
}
```
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–ª–∞—Å—Å–∞ —Ñ–∞–±—Ä–∏–∫–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –µ—Å–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ [–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π](../README.md#–Ω—É–ª–µ–≤–∞—è-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è-–¥–ª—è-–≤–Ω–µ–¥—Ä–µ–Ω–∏—è-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π):
```php
// config/services.php
use App\Factories\ClassFactory;
use function Kaspi\DiContainer\diAutowire;

return function () {
    yield diAutowire(ClassFactory::class)
};
``` 
–û–±—ä—è–≤–ª–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ñ–∞–±—Ä–∏–∫–∏ —á–µ—Ä–µ–∑ —Ö—ç–ª–ø–µ—Ä —Ñ—É–Ω–∫—Ü–∏—é:
```php
// config/services_base.php
use App\Classes\Foo;
use App\Factories\ClassFactory;
use function Kaspi\DiContainer\diFactory;

return static function () {
    yield Foo::class => diFactory([ClassFactory::class, 'create']);
};
```
–û–±—ä—è–≤–ª–µ–Ω–∏–µ —Ñ–∞–±—Ä–∏–∫–∏ —á–µ—Ä–µ–∑ php –∞—Ç—Ä–∏–±—É—Ç:
```php
namespace App\Classes;

use Kaspi\DiContainer\Attributes\DiFactory;
use App\Factories\ClassFactory;

#[DiFactory([ClassFactory::class, 'create'])]
class Foo{}
```
```php
use Kaspi\DiContainer\DiContainerBuilder;

$container = (new DiContainerBuilder())
    ->load(__DIR__.'/config/services.php')
    ->load(__DIR__.'/config/services_base.php')
    ->build()
;

$container->get(\App\Classes\Foo::class);
```
> [!NOTE]
> –ö–ª–∞—Å—Å \App\Classes\Foo –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω —á–µ—Ä–µ–∑ –≤—ã–∑–æ–≤ `\App\Factories\ClassFactory::create()`.
> 
> –ü—Ä–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–∏ —Ñ–∞–±—Ä–∏–∫–∏, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è —Ä–∞–∑—Ä–µ—à–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
> `ClassFactory::$bar` –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.
>

#### –ö–ª–∞—Å—Å —Ñ–∞–±—Ä–∏–∫–∏ –∫–∞–∫ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
–§–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∏–º—è –∫–ª–∞—Å—Å–∞ —Ñ–∞–±—Ä–∏–∫–∏ –∑–∞–≤–∏—Å–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç –æ–±—ä–µ–∫—Ç–∞ (–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è), –ø–æ–ª—É—á–∞–µ–º–æ–≥–æ –æ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
–í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤ –∫–∞—á–µ—Å—Ç–≤–µ
–∏–º–µ–Ω–∏ –∫–ª–∞—Å—Å–∞ —Ñ–∞–±—Ä–∏–∫–∏ –ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏, —á—Ç–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ (_definition_) –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É,
—Ä–µ–∞–ª–∏–∑—É–µ—Ç —É–∫–∞–∑–∞–Ω–Ω—ã–π —Ñ–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥.

```php
// config/services.php
use App\Factories\ClassFactory;
use function Kaspi\DiContainer\diAutowire;

return function () {
    yield 'factories.class_factory.config_one' => diAutowire(ClassFactory::class)
        ->setupImmutable('withLogger');
};
```
–û–±—ä—è–≤–ª–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ñ–∞–±—Ä–∏–∫–∏ —á–µ—Ä–µ–∑ —Ö—ç–ª–ø–µ—Ä —Ñ—É–Ω–∫—Ü–∏—é:
```php
// config/services_base.php
use App\Classes\Foo;
use function Kaspi\DiContainer\diFactory;

return function () {
    yield Foo::class => diFactory([
        'factories.class_factory.config_one', 'create'
    ]);
```
–û–±—ä—è–≤–ª–µ–Ω–∏–µ —Ñ–∞–±—Ä–∏–∫–∏ —á–µ—Ä–µ–∑ php –∞—Ç—Ä–∏–±—É—Ç:
```php
use Kaspi\DiContainer\Attributes\DiFactory;

#[DiFactory(['factories.class_factory.config_one', 'create'])]
class Foo{}
```
```php
use Kaspi\DiContainer\DiContainerBuilder;

$container = (new DiContainerBuilder())
    ->load(__DIR__.'/config/services.php')
    ->load(__DIR__.'/config/services_base.php')
    ->build()
;

$container->get(\App\Classes\Foo::class);
```
> [!NOTE]
> –ö–ª–∞—Å—Å `\App\Classes\Foo` –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω —á–µ—Ä–µ–∑ –≤—ã–∑–æ–≤
> –º–µ—Ç–æ–¥–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ `$object = $container->get('factories.class_factory.config_one')` 
> –∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ–º –º–µ—Ç–æ–¥–∞ `$object::create()`.
>
> –ü—Ä–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–∏ —Ñ–∞–±—Ä–∏–∫–∏, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è —Ä–∞–∑—Ä–µ—à–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
> `ClassFactory::$bar` –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.
>
### –§–∞–±—Ä–∏–∫–∞ —Å –º–µ—Ç–æ–¥–æ–º `__invoke()`.
–í –∫–∞—á–µ—Å—Ç–≤–µ —Ñ–∞–±—Ä–∏–∫–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –º–µ—Ç–æ–¥ `__invoke()`.
–°–∏–Ω—Ç–∞–∫—Å–∏—Å –æ–±—ä—è–≤–ª–µ–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ–∫—Ä–∞—â—ë–Ω –¥–æ —É–∫–∞–∑–∞–Ω–∏—è –∏–º–µ–Ω–∏ –∫–ª–∞—Å—Å–∞ –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏ (fully qualified class name).
```php
namespace App\Factories;

class ClassFactoryInvokable
{
    public function  __invoke() 
    {
        return $createdObject;
    }
}
```
–û–±—ä—è–≤–ª–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ñ–∞–±—Ä–∏–∫–∏ —á–µ—Ä–µ–∑ —Ö—ç–ª–ø–µ—Ä —Ñ—É–Ω–∫—Ü–∏—é:
```php
// config/services.php
use App\Classes\Foo;
use App\Factories\ClassFactoryInvokable;
use function Kaspi\DiContainer\diFactory;

return function () {
    yield Foo::class => diFactory(ClassFactoryInvokable::class);
};
```
–û–±—ä—è–≤–ª–µ–Ω–∏–µ —Ñ–∞–±—Ä–∏–∫–∏ —á–µ—Ä–µ–∑ php –∞—Ç—Ä–∏–±—É—Ç:
```php
use Kaspi\DiContainer\Attributes\DiFactory;

#[DiFactory(\App\Factories\ClassFactoryInvokable::class)]
class Foo{}
```
```php
use Kaspi\DiContainer\DiContainerBuilder;

$container = (new DiContainerBuilder())
    ->load(__DIR__.'/config/services.php')
    ->build()
;

$container->get(\App\Classes\Foo::class);
```
> [!NOTE]
> –ö–ª–∞—Å—Å `\App\Classes\Foo` –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω —á–µ—Ä–µ–∑ –≤—ã–∑–æ–≤
> –º–µ—Ç–æ–¥–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ `$object = $container->get(App\Factories\ClassFactoryInvokable::class)`
> –∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ–º –º–µ—Ç–æ–¥–∞ `$object::__invoke()`.
> 

## –ê—Ä–≥—É–º–µ–Ω—Ç—ã –¥–ª—è –º–µ—Ç–æ–¥–∞ —Ñ–∞–±—Ä–∏–∫–∏.

–î–ª—è –æ—Å–æ–±—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∞–±—Ä–∏–∫–∏ –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç—ã –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–µ—Ç–æ–¥–∞-—Ñ–∞–±—Ä–∏–∫–∏:

- –ß–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ –≤ —Ö—ç–ª–ø–µ—Ä —Ñ—É–Ω–∫—Ü–∏–∏ `\Kaspi\DiContainer\diFactory::bingArguments()`:
    ```php
    bindArguments(mixed ...$argument)
    ``` 
  > –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –Ω–µ–ø–æ–ª–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã.

- –ß–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä `$arguments` —É php –∞—Ç—Ä–∏–±—É—Ç–∞ `\Kaspi\DiContainer\Attributes\DiFactory` :
    ```php
    #[DiFactory(string|array $definition, ?bool $isSingleton = null, array $arguments = [])]
    ```
  > –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –Ω–µ–ø–æ–ª–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–∞ –≤ –º–∞—Å—Å–∏–≤–µ `$arguments` –∏–º—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –≤ –º–µ—Ç–æ–¥–µ —Ñ–∞–±—Ä–∏–∫–µ.

> [!TIP]
> –î–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ **–Ω–µ –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã—Ö** —á–µ—Ä–µ–∑ `bindArgument()` –∏–ª–∏ —á–µ—Ä–µ–∑ `$arguments` –≤ php –∞—Ç—Ä–∏–±—É—Ç–µ `\Kaspi\DiContainer\Attributes\DiFactory`,
> –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è —Ä–∞–∑—Ä–µ—à–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

> [!TIP]
> –î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ö—ç–ª–ø–µ—Ä —Ñ—É–Ω–∫—Ü–∏–∏ —Ç–∞–∫–∏–µ –∫–∞–∫:
> - `\Kaspi\DiContainer\diGet`
> - `\Kaspi\DiContainer\diValue`
> - `\Kaspi\DiContainer\diAutowire`
> - `\Kaspi\DiContainer\diTaggedAs`
> - –∏ –¥—Ä—É–≥–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ
> 
> –î–ª—è php –∞—Ç—Ä–∏–±—É—Ç–∞ `\Kaspi\DiContainer\Attributes\DiFactory` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∞–∫–∏–µ –∫–∞–∫:
> - `\Kaspi\DiContainer\DiDefinition\DiDefinitionGet`
> - `\Kaspi\DiContainer\DiDefinition\DiDefinitionValue`
> - `\Kaspi\DiContainer\DiDefinition\DiDefinitionAutowire`
> - `\Kaspi\DiContainer\DiDefinition\DiDefinitionTaggedAs`
> - –∏ –¥—Ä—É–≥–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ
>

### –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–¥–∞—á–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –≤ –º–µ—Ç–æ–¥ —Ñ–∞–±—Ä–∏–∫—É.

```php
namespace App\Factories;

use App\Services\Bar;

final class ClassFactory {

    public static function create(
        string $var1,
        string $var2,
        Bar $bar,
    ) {}

}
```
#### –í —Ö–µ–ª–ø–µ—Ä-—Ñ—É–Ω–∫—Ü–∏–∏:
```php
use App\Services\Foo;
use App\Factories\ClassFactory;
use function Kaspi\DiContainer\diFactory;

return static function () {
    yield Foo::class => diFactory([ClassFactory::class, 'create'])
        // `'value 1'` –ø–µ—Ä–µ–¥–∞—á–∞ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä #1
        // `'value 2'` –ø–µ—Ä–µ–¥–∞—á–∞ –∫ –ø–∞—Ä–∞–º–µ—Ç—Ä—É `$var2`
        // –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `$bar` –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ 
        ->bindArguments('value 1', var2: 'value 2');

}
```
#### –í php –∞—Ç—Ä–∏–±—É—Ç–µ:
```php
namespace App\Services;

#[DiFactory(
    [ClassFactory::class, 'create'],
    // `'value 1'` –ø–µ—Ä–µ–¥–∞—á–∞ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä #1
    // `'value 2'` –ø–µ—Ä–µ–¥–∞—á–∞ –∫ –ø–∞—Ä–∞–º–µ—Ç—Ä—É `$var2`
    // –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `$bar` –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ 
    arguments: [
        'value 1',
        'var2' => 'value 2',
    ]
)]
final class Foo {}
```
#### –£–∫–∞–∑–∞–Ω–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ –¥—Ä—É–≥–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
–î–ª—è —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∫–æ–≥–¥–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç —á–µ—Ä–µ–∑ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ö—ç–ª–ø–µ—Ä —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∫–ª–∞—Å—Å—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
```php
namespace App\Factories;

use App\Services\Bar;

final class ClassFactory {

    public static function create(
        Bar $bar,
    ) {}

}
```
–£ —Ö—ç–ª–ø–µ—Ä —Ñ—É–Ω–∫—Ü–∏–∏:
```php
use App\Services\Foo;
use App\Factories\ClassFactory;
use function Kaspi\DiContainer\{diFactory, diGet};

return static function () {
    yield Foo::class => diFactory([ClassFactory::class, 'create'])
        // –ø–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ `get('services.bar')`
        ->bindArguments(bar: diGet('services.bar'));

}
```
–£ php –∞—Ç—Ä–∏–±—É—Ç–∞:
```php
namespace App\Services;

use Kaspi\DiContainer\DiDefinition\DiDefinitionGet as DiGet;

#[DiFactory(
    [ClassFactory::class, 'create'],
    // –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `$bar` –ø–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ
    // —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ `get('services.bar')`
    arguments: [
        'bar' => new DiGet('services.bar'),
    ]
)]
final class Foo {}
```

## –§–∞–±—Ä–∏–∫–∏ –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–µ—Ç–æ–¥–∞.
–° –ø–æ–º–æ—â—å—é —Ñ–∞–±—Ä–∏–∫–∏ —Ç–∞–∫–∂–µ –¥–æ—Å—Ç—É–ø–Ω–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–µ—Ç–æ–¥–∞ (—Ñ—É–Ω–∫—Ü–∏–∏).

–í —Ö–µ–ª–ø–µ—Ä-—Ñ—É–Ω–∫—Ü–∏–∏:
```php
// src/config/services.php

use App\Classes\Baz;
use App\Factories\ApiClinentFactory;
use function Kaspi\DiContainer\{diAutowire, diFactory};

return static function (): \Generator {

    yield diAutowire(Baz::class)
        ->bindArguments(
            apiClient: diFactory(
                [ApiClinentFactory::class, 'createApiV2']
            )
        );

};
```
–í php –∞—Ç—Ä–∏–±—É—Ç–µ:
```php
namespace App\Classes;

use App\Interfaces\ApiClientInterface;
use App\Factories\ApiClinentFactory;
use Kaspi\DiContainer\Attributes\DiFactory;


class Baz {

    public function __construct(
        #[DiFactory([ApiClinentFactory::class, 'createApiV2'])]
        private readonly ApiClientInterface $apiClient;
    ) {}

}
```
